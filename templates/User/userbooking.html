{#{% extends 'User/base.html' %}#}
{#{% block body %}#}
{#    <head>#}
{##}
{#    </head>#}
{#    <body>#}
{#<title>User </title>#}
{#<br/>#}
{#<br/>#}
{##}
{#<div class="container mt-5">  <!-- Increased margin-top to create space from the navbar -->#}
{#    <br/>#}
{#    <div class="card shadow-lg" style="background-color: rgba(255, 255, 255, 0.8);">#}
{#        <br/>#}
{#        <br/>#}
{#        <div style="display: flex; justify-content: center; align-items: center;">#}
{#            <br/>#}
{#            <img src="{{ object.image.url }}" height="250" width="250" alt="{{ object.name }}">#}
{##}
{##}
{##}
{#        <div id="myCarousel" class="carousel slide" data-ride="carousel">#}
{#    <div class="carousel-inner">#}
{#        {% for  i in img %}#}
{#        <div class="carousel-item active">#}
{#            <img src="{{ i.img }}" alt="Image 1" width="200" height="200" class="d-block w-100">#}
{#        </div>#}
{#       {% endfor %}#}
{#    </div>#}
{#    <a class="carousel-control-prev" href="#myCarousel" role="button" data-slide="prev">#}
{#        <span class="carousel-control-prev-icon" aria-hidden="true"></span>#}
{#        <span class="sr-only">Previous</span>#}
{#    </a>#}
{#    <a class="carousel-control-next" href="#myCarousel" role="button" data-slide="next">#}
{#        <span class="carousel-control-next-icon" aria-hidden="true"></span>#}
{#        <span class="sr-only">Next</span>#}
{#    </a>#}
{#</div>#}
{##}
{##}
{#        </div>#}
{#        <div class="card-body text-center">#}
{#            <h5 class="card-text font-weight-bold" style="color: black;">{{ object.name }}</h5>#}
{#            <hr>#}
{#            <div class="details">#}
{#                <div class="row">#}
{#                    <div class="col-md-6 text-left">#}
{#                        <p><strong>Model:</strong> {{ object.model }}</p>#}
{#                        <p><strong>Year:</strong> {{ object.year }}</p>#}
{#                        <p><strong>Company:</strong> {{ object.company }}</p>#}
{#                        <p><strong>Details:</strong> {{ object.details }}</p>#}
{#                        <p><strong>History:</strong> {{ object.history }}</p>#}
{#                        <p><strong>Service:</strong> {{ object.service }}</p>#}
{#                    </div>#}
{#                    <div class="col-md-6 text-left">#}
{#                        <p><strong>Warranty:</strong> {{ object.warranty }}</p>#}
{#                        <p><strong>Color:</strong> {{ object.color }}</p>#}
{#                        <p><strong>Fuel:</strong> {{ object.fuel }}</p>#}
{#                        <p><strong>KM:</strong> {{ object.km }}</p>#}
{#                        <p><strong>Manual:</strong> {{ object.manul }}</p>#}
{#                        <p><strong>Owner:</strong> {{ object.owner }}</p>#}
{#                        <p><strong>Battery:</strong> {{ object.battary }}</p>#}
{#                        <p class="font-weight-bold text-success"><strong>Price:</strong> ${{ object.price }}</p>#}
{#                    </div>#}
{#                </div>#}
{#            </div>#}
{#             <div class="mt-3">#}
{#             <a href="/edit_product/{{ object.id }}" class="btn btn-primary btn-lg mr-2">Edit</a> #}
{#             <a href="" class="btn btn-outline-danger">Book for Test Drive</a>#}
{#             </div>#}
{#        </div>#}
{#    </div>#}
{#</div>#}
{#</body>#}
{#{% endblock %}#}


{% extends 'User/base.html' %}
{% block body %}
<head>
    <title>User</title>
    <!-- Include CSS and JS links here -->

<style>
        /* Custom styles for form-control textarea */
        input.form-controll {
            color: black !important; /* Ensure text color is black */
            background-color: #f8f9fa; /* Light background color */
            border: 1px solid #ccc; /* Border color */
            border-radius: 4px; /* Rounded corners */
            padding: 10px; /* Padding inside the textarea */
            font-size: 16px; /* Font size */

            width: 100%; /* Make textarea take full width */
        }

        /* Add a border color change when textarea is focused */
        input.form-controll:focus {
            border-color: #4260ff; /* Blue border on focus */
            box-shadow: 0 0 5px rgba(66, 96, 255, 0.5); /* Light blue shadow */
            outline: none; /* Remove default focus outline */
        }

        /* Optional: Set text alignment if needed */
        input.form-controll {
            text-align: left;
        }
        /* Custom styles for form-control textarea */
        select.form-controll {
            color: black !important; /* Ensure text color is black */
            background-color: #f8f9fa; /* Light background color */
            border: 1px solid #ccc; /* Border color */
            border-radius: 4px; /* Rounded corners */
            padding: 10px; /* Padding inside the textarea */
            font-size: 16px; /* Font size */

            width: 100%; /* Make textarea take full width */
        }

        /* Add a border color change when textarea is focused */
        select.form-controll:focus {
            border-color: #4260ff; /* Blue border on focus */
            box-shadow: 0 0 5px rgba(66, 96, 255, 0.5); /* Light blue shadow */
            outline: none; /* Remove default focus outline */
        }

        /* Optional: Set text alignment if needed */
        select.form-controll {
            text-align: left;
        }
    </style>
</head>
<body>
<br/>
<br/>
<form method="post" action="/booknow_post">
<div class="container mt-5">
    <br/>
    <div class="card shadow-lg" style="background-color: rgba(255, 255, 255, 0.8);">
        <br/>
        <br/>

        <div class="card-body text-center">

            <hr>
            <div class="details">
                <div class="row">

                    <div class="col-md-5 text-left"></div>
                    <div class="col-md-4 text-left">
                        <div class="mt-3">
                        <p><strong>Date:</strong> <label><input type="date" required class="form-controll" min="{{ d }}" name="d" id="d"></label></p>
                        <p><strong>Time: &nbsp;&nbsp;&nbsp;&nbsp;</strong>  <label>
{#                            <input type="time" required  class="form-controll" name="t" id="time">#}
                        <select name="t" class="form-controll" name="t" id="time" required>

                            <option value="">Select Time</option>
                            <option value="8:00">8:00</option>
                            <option value="9:00">9:00</option>
                            <option value="10:00">10:00</option>
                            <option value="11:00">11:00</option>
                            <option value="12:00">12:00</option>
                            <option value="1:00">1:00</option>
                            <option value="2:00">2:00</option>
                            <option value="3:00">3:00</option>
                            <option value="4:00">4:00</option>
                            <option value="5:00">5:00</option>
                            <option value="6:00">6:00</option>
                            <option value="7:00">7:00</option>

                        </select>
                        </label><label></label></p>

                        </div>
                    </div>
                </div>
            </div>
            <div class="mt-3">
                <p id="msg"></p>
                <input type="submit" value="Book Now" class="btn btn-primary" id="bid">
            </div>
        </div>
    </div>
</div>
</form>



<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>


    <script type="text/javascript">


    $("#time").change(function(){

    var uname;
    uname = $(this).val();
  var  date =  document.getElementById("d").value;

$.ajax(
    {
        type:"GET",
        url: "/check",
        data:{
                 time: uname,date:date
        },
        success: function( data )
        {
            console.log(data);
            const submitButton = document.getElementById('bid');

        if (data.task) {
submitButton.disabled = true;
                    $( '#msg' ).text("Slot not available");
                  }
                  else
                  {
                      submitButton.disabled = false;
                  $( '#msg' ).text("");
                  }

        }
     })
});


</script>

</body>
{% endblock %}
